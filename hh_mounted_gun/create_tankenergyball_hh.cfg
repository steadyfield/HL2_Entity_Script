
echo "TankEnergyBall Script by PulsarField"
echo "Precaching Necessary Models..."

ent_create prop_dynamic model models/props_wasteland/cargo_container01.mdl targetname temp1
ent_fire temp1 kill

echo "Creating TankEnergyBall..."

ent_create trigger_multiple targetname controlvol_energyball_new_pulsarfield1_hh spawnflags 513 model models/props_wasteland/cargo_container01.mdl
ent_fire controlvol_energyball_new_pulsarfield1_hh addoutput "origin 0 0 0"
ent_fire controlvol_energyball_new_pulsarfield1_hh addoutput "StartDisabled 0"
ent_fire controlvol_energyball_new_pulsarfield1_hh addoutput "rendermode 10"
ent_fire controlvol_energyball_new_pulsarfield1_hh addoutput "spawnflags 513"
ent_fire controlvol_energyball_new_pulsarfield1_hh addoutput "model models/props_wasteland/cargo_container01.mdl"

ent_create prop_physics model models/props_combine/combine_barricade_short01a.mdl targetname energyball_base_new_pulsarfield1_hh
ent_fire energyball_base_new_pulsarfield1_hh addoutput "origin 0 0 0"

ent_create prop_dynamic model models/props_combine/bunker_gun01.mdl targetname energyball_mdl_new_pulsarfield1_hh
ent_fire energyball_mdl_new_pulsarfield1_hh addoutput "origin 0 0 7"
ent_fire energyball_mdl_new_pulsarfield1_hh addoutput "solid 0"
ent_fire energyball_mdl_new_pulsarfield1_hh addoutput "angles 5 0 0"
ent_fire energyball_mdl_new_pulsarfield1_hh addoutput "DefaultAnim idle_inactive"
ent_fire energyball_mdl_new_pulsarfield1_hh addoutput "MinAnimTime 5"
ent_fire energyball_mdl_new_pulsarfield1_hh addoutput "MaxAnimTime 10"
//ent_fire energyball_mdl_new_pulsarfield1_hh setparent energyball_base_new_pulsarfield1_hh

//ent_create func_tank targetname tank_energyball_new_pulsarfield1_hh control_volume controlvol_energyball_new_pulsarfield1_hh spawnflags 34081 model models/props_combine/bunker_gun01.mdl energyball_base_new_pulsarfield1_hh_attach aimrotation gun_barrel_attach muzzle gun_yaw_pose_param aim_yaw gun_pitch_pose_param aim_pitch gun_yaw_pose_center 0 gun_pitch_pose_center 7.5
ent_create func_tank targetname tank_energyball_new_pulsarfield1_hh control_volume controlvol_energyball_new_pulsarfield1_hh spawnflags 34081 model models/props_combine/bunker_gun01.mdl bullet 0 ammotype "" effecthandling 0
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "origin 0 0 7"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "angles 0 0 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "renderfx 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "rendermode 10"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "renderamt 255"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "rendercolor 255 255 255"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "disablereceiveshadows 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "disableshadows 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "yawrate 200"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "yawrange 180"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "yawtolerance 15"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "pitchrate 200"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "pitchrange 180"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "pitchtolerance 15"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "barrel 25"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "barrely 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "barrelz 15"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "spritescale 1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "firerate 3"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "bullet_damage 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "bullet_damage_vs_player 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "persistence 3"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "persistence2 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "firespread 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "minRange 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "maxRange 2000"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "gun_yaw_pose_center 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "gun_pitch_pose_center 7.5"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "ammo_count -1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "LeadTarget No"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "playergraceperiod 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "playerlocktimebeforefire 1.5"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "ignoregraceupto 768"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "effecthandling 1"
//ent_fire tank_energyball_new_pulsarfield1_hh addoutput "gun_base_attach aimrotation"
//ent_fire tank_energyball_new_pulsarfield1_hh addoutput "gun_barrel_attach muzzle"
//ent_fire tank_energyball_new_pulsarfield1_hh addoutput "gun_yaw_pose_param aim_yaw"
//ent_fire tank_energyball_new_pulsarfield1_hh addoutput "gun_pitch_pose_param aim_pitch"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "parentname energyball_mdl_new_pulsarfield1_hh"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "bullet 0"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "spawnflags 34081"
//ent_fire tank_energyball_new_pulsarfield1_hh addoutput "model models/props_combine/combine_barricade_short01a.mdl"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "control_volume controlvol_energyball_new_pulsarfield1_hh"
ent_fire tank_energyball_new_pulsarfield1_hh setparent energyball_base_new_pulsarfield1_hh
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnFire energyball_mdl_new_pulsarfield1_hh,SetAnimation,fire,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnGotController energyball_mdl_new_pulsarfield1_hh,SetAnimation,activate,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnGotController energyball_mdl_new_pulsarfield1_hh,SetDefaultAnimation,idle,0.1,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnGotPlayerController energyball_mdl_new_pulsarfield1_hh,SetAnimation,activate,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnGotPlayerController energyball_mdl_new_pulsarfield1_hh,SetDefaultAnimation,idle,0.1,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnLostController energyball_mdl_new_pulsarfield1_hh,SetAnimation,retract,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnLostController energyball_mdl_new_pulsarfield1_hh,SetDefaultAnimation,idle_inactive,0.1,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnLostPlayerController energyball_mdl_new_pulsarfield1_hh,SetAnimation,retract,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnLostPlayerController energyball_mdl_new_pulsarfield1_hh,SetDefaultAnimation,idle_inactive,0.1,-1"

ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnGotController energyball_base_new_pulsarfield1_hh,DisableMotion,,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnGotPlayerController energyball_base_new_pulsarfield1_hh,DisableMotion,,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnLostController energyball_base_new_pulsarfield1_hh,EnableMotion,,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnLostPlayerController energyball_base_new_pulsarfield1_hh,EnableMotion,,0,-1"

ent_fire energyball_mdl_new_pulsarfield1_hh setparent tank_energyball_new_pulsarfield1_hh

ent_fire controlvol_energyball_new_pulsarfield1_hh setparent tank_energyball_new_pulsarfield1_hh

ent_create point_combine_ball_launcher targetname tank_energyball_launcher_new_pulsarfield1_hh spawnflags 2 ballcount 1 minspeed 1100 maxspeed 1100 ballradius 20 ballrespawntime 1 launchconenoise 0 maxballbounces 2 balltype 1

ent_fire tank_energyball_launcher_new_pulsarfield1_hh addoutput "origin 0 0 10"
ent_fire tank_energyball_launcher_new_pulsarfield1_hh setparent energyball_mdl_new_pulsarfield1_hh
ent_fire tank_energyball_launcher_new_pulsarfield1_hh setparentattachment muzzle
ent_fire tank_energyball_launcher_new_pulsarfield1_hh Disable

ent_create env_muzzleflash targetname tank_energyball_muzzle_new_pulsarfield1_hh parentname energyball_mdl_new_pulsarfield1_hh parentattachment muzzle scale 2
ent_fire tank_energyball_muzzle_new_pulsarfield1_hh setparent energyball_mdl_new_pulsarfield1_hh
ent_fire tank_energyball_muzzle_new_pulsarfield1_hh setparentattachment muzzle

ent_create ambient_generic targetname energyball_new_fx_pulsarfield1_hh SourceEntityName tank_energyball_new_pulsarfield1_hh spawnflags 48 message NPC_CombineBall.Launch
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "health 1"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "preset 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "volstart 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "fadein 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "fadeout 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "pitch 110"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "pitchstart 110"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "spinup 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "spindown 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "lfotype 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "lforate 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "lfomodpitch 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "lfomodvol 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "cspinup 0"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "radius 850"
ent_fire energyball_new_fx_pulsarfield1_hh addoutput "spawnflags 48"
ent_fire energyball_new_fx_pulsarfield1_hh setparent tank_energyball_new_pulsarfield1_hh

ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnFire energyball_new_fx_pulsarfield1_hh,PlaySound,,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnFire tank_energyball_launcher_new_pulsarfield1_hh,LaunchBall,,0,-1"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnFire tank_energyball_muzzle_new_pulsarfield1_hh,Fire,,0,-1"

ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnGotPlayerController !self,setparent,!player"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnLostPlayerController !self,clearparent"
ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnLostPlayerController !self,addoutput,angles 0 0 0,0.1,-1"

ent_fire tank_energyball_new_pulsarfield1_hh addoutput "OnGotPlayerController energyball_base_new_pulsarfield1_hh,kill,,0.1,1"

echo "TankEnergyBall Complete!"
echo "echo "Script Made by PulsarField, https://github.com/steadyfield/HL2_Entity_Script""



